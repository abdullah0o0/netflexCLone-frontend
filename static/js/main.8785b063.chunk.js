(this["webpackJsonpnetflexClone-frontend"]=this["webpackJsonpnetflexClone-frontend"]||[]).push([[0],{56:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var s=n(2),c="6c35edabcbddee1899f0143934ffcc08",a={fetchTrending:"./trending/all/week?api_key=".concat(c,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(c,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(c,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(c,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(c,"&with_genres=35"),fetchHerrorMovies:"/discover/movie?api_key=".concat(c,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(c,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(c,"&with_genres=99")},r=n(11),i=n.n(r),o=n(14),l=n(6),j=n(30),d=n.n(j).a.create({baseURL:"https://api.themoviedb.org/3"}),u=(n(56),n(31)),h=n(34),b=n.n(h),m=n(1);function p(e){var t=e.title,n=e.fetchUrl,c=e.isLargeRow,a=Object(s.useState)([]),r=Object(l.a)(a,2),j=r[0],h=r[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),O=f[0],x=f[1];Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get(n);case 2:return t=e.sent,h(t.data.results),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("h2",{children:t}),Object(m.jsx)("div",{className:"row_posters",children:j.map((function(e){return Object(m.jsx)("img",{onClick:function(){return function(e){console.log(j),O?x(""):b()((null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.original_title)||"").then((function(e){var t=new URLSearchParams(new URL(e).search);console.log("url",e),console.log(t),x(t.get("v"))})).catch((function(e){return console.log(e)}))}(e)},className:"row_poster ".concat(c&&"row_posterLarge"," "),src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(c?e.poster_path:e.backdrop_path),alt:e.name||e.original_title},e.id)}))}),O&&Object(m.jsx)(u.a,{videoId:O,opts:{height:"390",width:"100%",playerVars:{autoplay:1}}})]})}n(79);function f(){var e,t,n=Object(s.useState)([]),c=Object(l.a)(n,2),r=c[0],j=c[1];return Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get(a.fetchNetflixOriginals);case 2:return t=e.sent,j(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsxs)("header",{className:"banner",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===r||void 0===r?void 0:r.backdrop_path,'")')},children:[Object(m.jsxs)("div",{className:"banner_contents",children:[Object(m.jsx)("h1",{className:"banner_title",children:(null===r||void 0===r?void 0:r.title)||(null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.original_name)}),Object(m.jsxs)("div",{className:"banner_buttons",children:[Object(m.jsx)("button",{className:"banner_button",children:"PLay"}),Object(m.jsx)("button",{className:"banner_button",children:"My List"})]}),Object(m.jsxs)("h1",{className:"banner_description",children:[null===r||void 0===r?void 0:r.overview,(e=null===r||void 0===r?void 0:r.overview,t=150,(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e)]})]}),Object(m.jsx)("div",{className:"banner--fadeBottom"})]})}n(80);var O=n(3),x=n(13),v=(n(81),Object(s.createContext)(null));function g(){var e=Object(s.useContext)(v).setIsLogin,t=Object(O.g)(),n=localStorage.getItem("x-auth"),c=Object(s.useState)(!1),a=Object(l.a)(c,2),r=a[0],i=a[1];return Object(s.useEffect)((function(){return window.addEventListener("scroll",(function(){window.scrollY>100?i(!0):i(!1)})),function(){window.removeEventListener("scroll")}}),[]),Object(m.jsxs)("div",{className:"nav ".concat(r&&"nav_black"),children:[Object(m.jsx)("div",{className:"nav_logo",children:Object(m.jsx)(x.b,{to:"/movies"})}),Object(m.jsx)("div",{className:"navBtnBox",children:n?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x.b,{to:"/login",children:Object(m.jsx)("button",{onClick:function(){localStorage.clear(),e(!1),t.push("/"),console.log("user logged out"),window.location.reload()},className:"navBtn",children:Object(m.jsx)("span",{children:"Log out"})})})}):Object(m.jsx)(x.b,{to:"/login",children:Object(m.jsx)("button",{className:"navBtn",children:Object(m.jsx)("span",{children:"Log in"})})})}),Object(m.jsx)("div",{className:"nav_avatar",children:Object(m.jsx)(x.b,{to:"/profile"})})]})}n(88);var w=n(15),N=n(0);function y(){return Object(m.jsxs)("div",{className:"footer-div",children:[Object(m.jsx)(N.b.Provider,{value:{className:"mediaStyles"},children:Object(m.jsxs)("div",{className:"socialMedia",children:[Object(m.jsx)("a",{href:"https://www.facebook.com/NetflixDACH","aria-label":"facebook",children:Object(m.jsx)(w.a,{})}),Object(m.jsx)("a",{href:"https://www.instagram.com/NetflixDE","aria-label":"instagram",children:Object(m.jsx)(w.b,{})}),Object(m.jsx)("a",{href:"https://twitter.com/NetflixDE","aria-label":"twitter",children:Object(m.jsx)(w.c,{})}),Object(m.jsx)("a",{href:"https://www.youtube.com/user/netflixdach","aria-label":"youtube",children:Object(m.jsx)(w.d,{})})]})}),Object(m.jsxs)("footer",{children:[Object(m.jsxs)("div",{className:"col1",children:[Object(m.jsx)("a",{href:"/#",children:"FAQ"}),Object(m.jsx)("a",{href:"/#",children:"Investor Relations"}),Object(m.jsx)("a",{href:"/#",children:"Ways to Watch"}),Object(m.jsx)("a",{href:"/#",children:"Impressum"}),Object(m.jsx)("a",{href:"/#",children:"Only on Netflix"})]}),Object(m.jsxs)("div",{className:"col2",children:[Object(m.jsx)("a",{href:"/#",children:"Help Center"}),Object(m.jsx)("a",{href:"/#",children:"Jobs"}),Object(m.jsx)("a",{href:"/#",children:"Terms of Use"}),Object(m.jsx)("a",{href:"/#",children:"Contact Us"})]}),Object(m.jsxs)("div",{className:"col3",children:[Object(m.jsx)("a",{href:"/#",children:"Account"}),Object(m.jsx)("a",{href:"/#",children:"Redeem Gift Cards"}),Object(m.jsx)("a",{href:"/#",children:"Privacy"}),Object(m.jsx)("a",{href:"/#",children:"Speed Test"})]}),Object(m.jsxs)("div",{className:"col4",children:[Object(m.jsx)("a",{href:"/#",children:"Media Center"}),Object(m.jsx)("a",{href:"/#",children:"Buy Gift Cards"}),Object(m.jsx)("a",{href:"/#",children:"Cookie Preferences"}),Object(m.jsx)("a",{href:"/#",children:"Legal Notices"})]})]}),Object(m.jsx)("span",{children:"\u200e\xa9 1997-2021 Netflix, Inc.\u200e\u200e"})]})}function _(e){var t=Object(s.useState)("empty"),n=Object(l.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),o=i[0],j=i[1],d=Object(s.useState)(!1),u=Object(l.a)(d,2),h=u[0],b=u[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),O=f[0],x=f[1];return Object(m.jsx)(v.Provider,{value:{user:c,setUser:a,isLogin:o,setIsLogin:j,isRegistered:h,setIsRegistered:b,userEmail:O,setUserEmail:x},children:e.children})}function S(){var e=Object(s.useContext)(v),t=e.user,n=e.setUser,c=e.setIsLogin,a=e.userEmail;console.log(t);return Object(m.jsx)("div",{className:"page",children:Object(m.jsxs)("div",{className:"formSection",children:[Object(m.jsx)("h2",{className:"signupHeader",children:"Log in!"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={email:e.target.elements.email.value,password:e.target.elements.password.value};fetch("http://localhost:4000/api/v1/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){var t=e.headers.get("x-auth");return localStorage.setItem("x-auth",t),e.json()})).then((function(e){e.success?(console.log(e.data),n(e.data),c(!0),window.location.replace("/movies")):console.log(e.message)}))},className:"signupForm",children:[Object(m.jsx)("input",{className:"signupInput",defaultValue:a,type:"email",name:"email",placeholder:"Enter Email"}),Object(m.jsx)("input",{className:"signupInput",type:"password",name:"password",placeholder:"Enter Password"}),Object(m.jsx)("button",{type:"submit",className:"signupBtn",children:Object(m.jsx)("span",{children:"Login"})})]})]})})}n(89);function k(e){var t=Object(s.useContext)(v).userEmail;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"page",children:Object(m.jsxs)("div",{className:"formSection",children:[Object(m.jsx)("h2",{className:"signupHeader",children:"Create your account!"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={firstname:t.target.elements.firstname.value,lastname:t.target.elements.lastname.value,email:t.target.elements.email.value,password:t.target.elements.password.value};fetch("http://localhost:4000/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){t.success?(console.log(t.data),e.history.push("/login")):console.log(t.message)}))},className:"signupForm",children:[Object(m.jsx)("input",{className:"signupInput",type:"text",name:"firstname",placeholder:"Enter First Name",required:!0}),Object(m.jsx)("input",{type:"text",className:"signupInput",name:"lastname",placeholder:"Enter Last Name",required:!0}),Object(m.jsx)("input",{className:"signupInput",type:"email",name:"email",defaultValue:t,placeholder:"Enter Email",required:!0}),Object(m.jsx)("input",{className:"signupInput",type:"password",name:"password",placeholder:"Enter Password",required:!0}),Object(m.jsx)("button",{className:"signupBtn",type:"submit",children:Object(m.jsx)("span",{children:"Signup"})})]})]})})})}n(90);function C(e){var t=Object(s.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],j=Object(s.useContext)(v).setUserEmail;Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get(a.fetchNetflixOriginals);case 2:return t=e.sent,r(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=Object(s.useRef)("");return Object(m.jsxs)("div",{className:"homepage",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===c||void 0===c?void 0:c.backdrop_path,'")')},children:[Object(m.jsxs)("div",{className:"hero",children:[Object(m.jsx)("h1",{style:{marginBottom:"0.6rem"},children:"Unlimited movies, TV shows, and more."}),Object(m.jsx)("h2",{children:"Watch anywhere. Cancel anytime."}),Object(m.jsx)("h2",{children:"Ready to watch? Enter your email to create a membership"}),Object(m.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(m.jsx)("input",{type:"email",ref:u,placeholder:"Email address",className:"emailBox",required:!0}),Object(m.jsx)("button",{type:"submit",onClick:function(){var t=u.current.value;!function(e){return/\S+@\S+\.\S+/.test(e)}(t)?alert("enter a valid email - example@example.example"):(j(t),e.history.push("/signup"))},className:"startBtn",children:Object(m.jsx)("span",{children:"Get Started"})})]})]}),Object(m.jsxs)("h6",{className:"captionTitle",children:[Object(m.jsx)("span",{style:{color:"rgb(172, 172, 172)"},children:"Movie Caption "}),(null===c||void 0===c?void 0:c.original_title)||(null===c||void 0===c?void 0:c.original_name)]})]})}var E=function(){return Object(m.jsx)(_,{children:Object(m.jsx)(x.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(g,{}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(O.b,{exact:!0,path:"/",component:C}),Object(m.jsx)(O.b,{path:"/login",component:S}),Object(m.jsx)(O.b,{path:"/signup",component:k}),localStorage.getItem("x-auth")?Object(m.jsxs)(O.b,{path:"/movies",children:[Object(m.jsx)(f,{}),Object(m.jsx)(p,{title:"NETFLIX ORIGINALS",fetchUrl:a.fetchNetflixOriginals,isLargeRow:!0}),Object(m.jsx)(p,{title:"Trending Now",fetchUrl:a.fetchTrending}),Object(m.jsx)(p,{title:"Top Rated",fetchUrl:a.fetchTopRated}),Object(m.jsx)(p,{title:"Action Movies",fetchUrl:a.fetchActionMovies}),Object(m.jsx)(p,{title:"Comedy Movies",fetchUrl:a.fetchComedyMovies}),Object(m.jsx)(p,{title:"Horror Movies",fetchUrl:a.fetchHerrorMovies}),Object(m.jsx)(p,{title:"Romance Movies",fetchUrl:a.fetchRomanceMovies}),Object(m.jsx)(p,{title:"Documentaries",fetchUrl:a.fetchDocumentaries})]}):Object(m.jsx)(O.a,{to:"/login"})]}),Object(m.jsx)(y,{})]})})})},I=n(36);n.n(I).a.render(Object(m.jsx)(E,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.8785b063.chunk.js.map